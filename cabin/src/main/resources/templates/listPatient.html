<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<meta charset="ISO-8859-1">
	<title>Clinique-Sourire</title>
<link th:href="@{/assets/css/maicons.css}" rel="stylesheet">
<link th:href="@{assets/css/bootstrap.css}" rel="stylesheet">
<link th:href="@{/assets/css/maicons.css}" rel="stylesheet">
<link th:href="@{/assets/vendor/animate/animate.css}" rel="stylesheet">
<link th:href="@{/assets/css/theme.css}" rel="stylesheet">
<link th:href="@{assets/vendor/owl-carousel/css/owl.carousel.css}" rel="stylesheet">
	<link rel="stylesheet" href=
			"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

	<script src=
					"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
	</script>

	<script src=
					"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js">
	</script>

	<script src=
					"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js">
	</script>
	<link rel="stylesheet"
		  href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
		  integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
		  crossorigin="anonymous">

	<link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAA////AMTExADr6+sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIgAAAAIgAAAiIAAAIhAAACEgAAAiEAAAIRIAAiEQAAAhETAiERAAACEREREREAADIREREREwAAMxEREREzEAAzERERETEQABMRERERMTAAERERERETMAARMRERERMQABETERERMxAAAREwABMxAAAAAAAAAAAADP5wAAh8MAAIODAACDgwAAgQMAAIADAACAAwAAAAMAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAIADAADDhwAA" rel="icon" type="image/x-icon" />


</head>
<body>
	 <header>
    

    <nav class="navbar navbar-expand-lg navbar-light shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="#"><span class="text-primary">HOP</span>-Rabat</a>

        

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupport" aria-controls="navbarSupport" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupport">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#" th:href="@{/}">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" th:href="@{/listPatient}">Patient</a>
            </li>
            
            <li class="nav-item">
              <a class="btn btn-primary ml-lg-3" sec:authorize="isAuthenticated()" th:href="@{/logout}">Logout</a>
            </li>
          </ul>
        </div> <!-- .navbar-collapse -->
      </div> <!-- .container -->
    </nav>
  </header>



<div class="container my-2">
	<h1>List des Patients</h1>
	
	<a th:href = "@{/addPatient}" class="btn btn-primary btn-sm mb-3"> Add Patients </a>
	
		<table border="2" class="table">
			<thead class="thead-dark">
				<tr>
					<th scope="col">
						<a th:href="@{'/page/' + ${currentPage} + '?sortField=nom&sortDir=' + ${reverseSortDir}}">
							Nom </a>
					</th>
					<th scope="col">
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=prenom&sortDir=' + ${reverseSortDir}}">
							Prenom </a>
					</th>
					<th scope="col">
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=sexe&sortDir=' + ${reverseSortDir}}">
							Sexe </a>
					</th>
					<th scope="col">
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=dateNaissance&sortDir=' + ${reverseSortDir}}">
							Date de Naissance </a>
					</th>
					<th scope="col">
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=email&sortDir=' + ${reverseSortDir}}">
							Email </a>
					</th>
					<th scope="col">
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=telephone&sortDir=' + ${reverseSortDir}}">
							Telephone </a>
					</th>
					<th scope="col">
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=assurance&sortDir=' + ${reverseSortDir}}">
							Assurance </a>
					</th>
					<th scope="col">
					<a th:href="@{'/page/' + ${currentPage} + '?sortField=adresse&sortDir=' + ${reverseSortDir}}">
							Adresse </a>
					</th>
					<th width="180" scope="col"> Actions </th>
				</tr>
			</thead>
			<tbody>
				<tr scope="row" th:each="patient : ${listPatients}">
					<td th:text="${patient.nom}"></td>
					<td th:text="${patient.prenom}"></td>
					<td th:text="${patient.sexe}"></td>
					<td th:text="${patient.dateNaissance}"></td>
					<td th:text="${patient.email}"></td>
					<td th:text="${patient.telephone}"></td>
					<td th:text="${patient.assurance}"></td>
					<td th:text="${patient.adresse}"></td>
					<td width="180"> 
						<a th:href="@{/listRdv/{id}(id=${patient.id})}" class="btn btn-primary">Rendez vous</a>
						<br><br>
						<a th:href="@{/updatePatient/{id}(id=${patient.id})}" class="btn btn-primary">Update</a>
						<br><br>
					    <a th:href="@{/deletePatient/{id}(id=${patient.id})}" class="btn btn-danger">Delete</a>
						<br>
					</td>
				</tr>
			</tbody>
		</table>
		
		
	</div>
	
	
	
</body>

<script type="text/javascript" th:src="@{/assets/js/jquery-3.5.1.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/js/bootstrap.bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/owl-carousel/js/owl.carousel.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/vendor/wow/wow.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/js/theme.js}"></script>
</html>